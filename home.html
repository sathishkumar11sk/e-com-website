<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gamers Hub - Your Ultimate Tech Destination</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <nav class="container">
      <div class="logo">Gamers Hub</div>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#products">Products</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <div class="auth-container">
        <div id="user-info" class="user-info" style="display: none;">
          <img id="user-avatar" class="user-avatar" src="" alt="User Avatar">
          <span id="user-name" class="user-name"></span>
        </div>
        <div id="auth-buttons">
          <button class="btn btn-secondary" onclick="showLoginModal()">Login</button>
          <button class="btn btn-primary" onclick="showSignupModal()">Sign Up</button>
        </div>
        <button class="cart-icon" onclick="toggleCart()">
          Cart <span class="cart-count" id="cart-count">0</span>
        </button>
        <button id="logout-btn" class="btn btn-secondary" onclick="logoutUser()" style="display: none;">Logout</button>
      </div>
    </nav>
  </header>


    <main class="container">
        <section class="hero" id="home">
            <h1>Welcome to Gamers Hub</h1>
            <p>Discover the latest in technology with unbeatable prices and quality</p>
            <button class="cta-button" onclick="scrollToProducts()">Shop Now</button>
        </section>

        <section class="filters">
            <div class="filter-group">
                <label for="category">Category</label>
                <select id="category" onchange="filterProducts()">
                    <option value="">All Categories</option>
                    <option value="smartphones">Smartphones</option>
                    <option value="laptops">Laptops</option>
                    <option value="headphones">Headphones</option>
                    <option value="tablets">Tablets</option>
                    <option value="accessories">Accessories</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="sort">Sort By</label>
                <select id="sort" onchange="filterProducts()">
                    <option value="name">Name</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="search">Search</label>
                <input type="text" id="search" placeholder="Search products..." onkeyup="filterProducts()">
            </div>
        </section>

        <section class="products-section" id="products">
            <h2 class="section-title">Featured Products</h2>
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Loading products...</p>
            </div>
            <div class="products-grid" id="products-grid"></div>
        </section>
    </main>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('login-modal')">&times;</span>
            <h2 style="text-align: center; margin-bottom: 1rem; color: #333;">Login</h2>
            <form class="auth-form" onsubmit="loginUser(event)">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
            <p style="text-align: center; margin-top: 1rem;">
                Don't have an account? <a href="#" onclick="closeModal('login-modal'); showSignupModal();" style="color: #667eea;">Sign up</a>
            </p>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signup-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('signup-modal')">&times;</span>
            <h2 style="text-align: center; margin-bottom: 1rem; color: #333;">Sign Up</h2>
            <form class="auth-form" onsubmit="signupUser(event)">
                <div class="form-group">
                    <label for="signup-name">Full Name</label>
                    <input type="text" id="signup-name" required>
                </div>
                <div class="form-group">
                    <label for="signup-email">Email</label>
                    <input type="email" id="signup-email" required>
                </div>
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" required minlength="6">
                </div>
                <div class="form-group">
                    <label>Choose Avatar</label>
                    <div class="avatar-selection" id="avatar-selection">
                         <img class="avatar-option" src="https://static.vecteezy.com/system/resources/previews/048/216/761/non_2x/modern-male-avatar-with-black-hair-and-hoodie-illustration-free-png.png" alt="male">
                         <img class="avatar-option" src="https://t4.ftcdn.net/jpg/11/66/06/77/360_F_1166067709_2SooAuPWXp20XkGev7oOT7nuK1VThCsN.jpg" alt="female">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Sign Up</button>
            </form>
            <p style="text-align: center; margin-top: 1rem;">
                Already have an account? <a href="#" onclick="closeModal('signup-modal'); showLoginModal();" style="color: #667eea;">Login</a>
            </p>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="toggleCart()">&times;</span>
            <h2>Shopping Cart</h2>
            <div id="cart-items"></div>
            <div class="cart-total" id="cart-total">Total: ₹0.00</div>
            <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
        </div>
    </div>
<!-- about and contact stack section -->

    <section class="about-contact-section container" id="about">

    <!-- About (Left Side) -->
        <div class="about-box">
            <h2>About Gamers Hub</h2>
            <p>
           Welcome to Gamers Hub, your ultimate destination for high-performance gaming gear and cutting-edge tech accessories.
           We specialize in offering top-tier products that enhance your gaming experience — from precision gaming mice and mechanical keyboards to premium headphones and consoles.

           Our mission is to deliver the best value, quality, and innovation to gamers of all levels.
           Whether you're a casual player or an esports enthusiast, we bring you curated selections trusted by thousands.

           At Gamers Hub, we’re not just about selling gadgets — we’re about building a community of passionate players.
           With unbeatable prices, lightning-fast support, and the latest releases always in stock, your satisfaction is our priority.
           Join us and level up your setup like a true pro.
            </p>
        </div>

    <!-- Contact (Right Side) -->
        <div class="contact-box" id="contact">
    <h2>Contact Us</h2>
    <form class="contact-form" id="contact-form" onsubmit="submitContactForm(event)">
            <input type="text" id="name" placeholder="Your Name" required />
<input type="email" id="email" placeholder="Your Email" required />
<textarea id="message" placeholder="Your Message" required></textarea>

            <button type="submit">Send Message</button>
            </form>
        </div>
    </section>

    <script>
        const products = [
            { id: 1, name: "Asus ROG", price: 124999, image: "https://images.unsplash.com/photo-1603302576837-37561b2e2302?w=400&h=300&fit=crop", category: "laptops", description: "High-performance gaming laptop with RGB lighting and powerful GPU" },
            { id: 2, name: "HP Omen", price: 114999, image: "https://images.unsplash.com/photo-1588872657578-7efd1f1555ed?w=400&h=300&fit=crop", category: "laptops", description: "Sleek design, high refresh rate display and advanced cooling system" },
            { id: 3, name: "Alienware M15", price: 214999, image: "https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400&h=300&fit=crop", category: "laptops", description: "Premium gaming laptop with futuristic design and top-tier performance" },
            { id: 4, name: "Lenovo Legion", price: 129999, image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&h=300&fit=crop", category: "laptops", description: "Reliable gaming machine with powerful CPU and stylish build" },
            { id: 5, name: "HyperX Headset", price: 69999, image: "https://images.unsplash.com/photo-1599669454699-248893623440?w=400&h=300&fit=crop", category: "accessories", description: "Comfortable headset with rich sound and noise isolation" },
            { id: 6, name: "Gaming Mouse", price: 2299, image: "https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=400&h=300&fit=crop", category: "accessories", description: "Responsive and lightweight gaming mouse with customizable buttons" },
            { id: 7, name: "Xbox Controller", price: 4599, image: "https://images.unsplash.com/photo-1605901309584-818e25960a8f?w=400&h=300&fit=crop", category: "accessories", description: "Ergonomic controller compatible with PC and Xbox devices" },
            { id: 8, name: "Cooler Stand", price: 3999, image: "https://images-cdn.ubuy.co.in/633aba5bb961822663096fbb-topmate-c11-laptop-cooling-pad-rgb.jpg", category: "accessories", description: "Laptop cooling stand with adjustable height and dual fans" },
            { id: 9, name: "iPhone 15 Pro", price: 110999, image: "https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400&h=300&fit=crop",  category: "smartphones", description: "Latest iPhone with advanced camera and A17 Pro chip" },
            { id: 10, name: "MacBook Pro M3", price: 251599, image: "https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=400&h=300&fit=crop", category: "laptops",  description: "Powerful laptop for professionals with M3 chip" },
            { id: 11, name: "AirPods Pro", price: 19249, image: "https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=400&h=300&fit=crop", category: "headphones", description: "Wireless earbuds with active noise cancellation" },
            { id: 12, name: "iPad Air", price: 15599, image: "https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=400&h=300&fit=crop", category: "tablets", description: "Versatile tablet perfect for work and creativity" },
            { id: 13, name: "Samsung Galaxy S24", price: 115999, image: "https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?w=400&h=300&fit=crop", category: "smartphones", description: "Android flagship with exceptional camera and display" },
            { id: 14, name: "Dell XPS 13", price: 751299, image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&h=300&fit=crop", category: "laptops", description: "Ultrabook with stunning InfinityEdge display" },
            { id: 15, name: "Sony WH-1000XM5", price: 15349, image: "https://images.unsplash.com/photo-1583394838336-acd977736f90?w=400&h=300&fit=crop", category: "headphones", description: "Premium noise-cancelling wireless headphones" },
            { id: 16, name: "Acer Predator", price: 119999, image: "https://images-cdn.ubuy.co.in/636e31913ba3872d195ab3f3-acer-predator-helios-300-gaming-laptop.jpg", category: "laptops", description: "Gaming beast with turbo cooling" },
            { id: 17, name: "MSI Stealth", price: 134999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdIubQ0k4OXl-kTYkfLy_DfkmlbVcSissEUwoxfcI8NVnrEDNAyyxwjz8V1oU4aUGvxWw&usqp=CAU", category: "laptops", description: "Slim and powerful with RGB keyboard" },
            { id: 18, name: "Razer Blade", price: 179999, image: "https://images-cdn.ubuy.qa/6664a702975d40493c63043b-razer-blade-16-2024-gaming-laptop.jpg", category: "laptops", description: "Elegant and ultra-fast laptop" },
            { id: 19, name: "Gigabyte Aorus", price: 145999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTvgI8Piwn8pyZ9SSsvz-e_g68ZsbBQG2P14Z61OJTMuK-gdAtTX4lYPj8opZGbTYU7M9g&usqp=CAU", category: "laptops", description: "High-performance machine with gamer aesthetics" },
            { id: 20, name: "Samsung Galaxy Book3", price: 94999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS3mNxrBErAJmjKqiq_qm7NFmEaaRRJDIrpPp8HVMV-Ni93mtRGuH9tY1PhTVZuOhsBWOk&usqp=CAU", category: "laptops", description: "Lightweight with AMOLED screen" },
            { id: 21, name: "Logitech G502", price: 3499, image: "https://i.rtings.com/assets/products/rEgUwq9o/logitech-g502-x-plus/design-medium.jpg?format=auto", category: "accessories", description: "High precision gaming mouse" },
            { id: 22, name: "Corsair K95", price: 8999, image: "https://images-cdn.ubuy.co.in/633b9fd295b18129743167aa-corsair-k95-rgb-platinum-xt-mechanical.jpg", category: "accessories", description: "Mechanical keyboard with RGB" },
            { id: 23, name: "Elgato Stream Deck", price: 11999, image: "https://m.media-amazon.com/images/I/71aY+mfIxiL.jpg", category: "accessories", description: "Streaming control panel" },
            { id: 24, name: "Razer Kraken", price: 5999, image: "https://themaczone.in/wp-content/uploads/2025/01/Razer-Kraken-X-For-Console-Gaming-Headset-2-700x700.jpg", category: "accessories", description: "Gaming headset with surround sound" },
            { id: 25, name: "SteelSeries QcK", price: 1499, image: "https://usb.brando.com/prod_img/zoom/UPCSF036900_8.jpg", "category": "accessories", "description": "Large smooth mousepad" },
            { id: 26, name: "OnePlus 12", price: 69999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQZhgbnhvuS4Nie-n8Ylpb9xMnUWPqkQvRtYiR7L-hDX-FN4zqXXXJaizaEnNkF93zvEC4&usqp=CAU", category: "smartphones", description: "Flagship killer with Snapdragon 8 Gen 2" },
            { id: 27, name: "Google Pixel 8 Pro", price: 99999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTlzMHwrw2MLy-LkgZUOaG-6Gu5jjYGHz8hKZrK0T_0RQ_A8DRAy-6Xmt5d1WFsRxzvSG4&usqp=CAU", category: "smartphones", description: "Camera king with AI features" },
            { id: 28, name: "Nothing Phone 2", price: 44999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMLgQYCtz7IuUeZRYIMB_alpJ9evDgUzm4wb7k0t7A_0tSY-EH5yVGmX9PbJDsFXpyN-w&usqp=CAU", category: "smartphones", description: "Unique design with glyph interface" },
            { id: 29, name: "Xiaomi 14 Ultra", price: 84999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCYKMPV1pK4Y3LWS0jVFcEYSdgYTTCt3RaQh7Hoq5A6tLXUD40UPDxrgzbEmdaqDQN5w8&usqp=CAU", category: "smartphones", description: "Leica camera system and flagship chip" },
            { id: 30, name: "Asus ROG Phone 8", price: 85999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL6TDZgLwoM6ho5c_BixeCOrWnqkj-PglTF6FHAwO3-JADM_q_sOA86tks7xAJIz2OOX8&usqp=CAU", category: "smartphones", description: "Gaming smartphone with AirTriggers" },
            { id: 31, name: "Boat Rockerz 550", price: 2499, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSeik0FsDqcJBK4PTo-5PAXXaeJS3-98p4jwleOATqeYlcGVl_QZ48tc5qvCsyRzRlbJE4&usqp=CAU", category: "headphones", description: "Wireless over-ear with deep bass" },
            { id: 32, name: "JBL Tune 760NC", price: 5999, image: "https://m.media-amazon.com/images/I/71x1ljuwF8L._UF1000,1000_QL80_.jpg", category: "headphones", description: "Noise-canceling headphones with long battery" },
            { id: 33, name: "Sennheiser HD 450BT", price: 8499, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVvEIflF53FSKaaDMIwTQitUdYT_vbd0CtI06R7fsBnIvQWf0P6KEpbDji73FwMjoeyRo&usqp=CAU", category: "headphones", description: "Premium wireless with ANC" },
            { id: 34, name: "Realme Buds Air 5", price: 2999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRRm_RD8ZjUFOHmbT82LjmPOFc3CqHr5reDX8Yn-dXaVa0uRw2yf3gAEG4D4KPoNDfUMyA&usqp=CAU", category: "headphones", description: "TWS with ultra low-latency" },
            { id: 35, name: "Beats Studio3", price: 14999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPeP2Zn2zWzsjqYthgtXEEnwiccoBWCHAQ5aP-FDTNK-ptBGVtPe4DEs-kvwckFpE1VwA&usqp=CAU", category: "headphones", description: "Apple integrated wireless headset" },
            { id: 36, name: "Samsung Galaxy Tab S9", price: 73999, image: "https://rukminim2.flixcart.com/image/704/844/xif0q/tablet/y/t/p/-original-imah69ythvhzcwyy.jpeg?q=20&crop=false", category: "tablets", description: "Powerful Android tablet with S Pen" },
            { id: 37, name: "Lenovo Tab P11 Pro", price: 29999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLozhP-vyh2AX0P89-pxUZ8cFkfiQaX6GNrnt1KAYZzIfD-bc3ZWu3fN2OPH_OdnSDXx4&usqp=CAU", category: "tablets", description: "Great display for work and play" },
            { id: 38, name: "iPad Mini", price: 49999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSVJJiu7Zb43x88hZQq0AfdD6owmhQRJ8OUXLYRg399AVkPmkCF5x_Vb-0_qRtHL08NXj0&usqp=CAU", category: "tablets", description: "Compact and mighty" },
            { id: 39, name: "Xiaomi Pad 6", price: 26999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSUm-qPSuteLyXjrLsJfwRe3olJs5atgJn3goW_yVl4gzEIm38zT5WtPX22CA0h79Lomh4&usqp=CAU", category: "tablets", description: "Flagship Android tab for all use" },
            { id: 40, name: "Realme Pad X", price: 19999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwM5pu6Ib5OiK7VIMbOoD8GHV48KskPrhIpXJWxqRIx7fTZDB4Mq0LCFSIavFboySX3RI&usqp=CAU", category: "tablets", description: "Affordable productivity tab" }
        ];

        let cart = [];
        let filteredProducts = [...products];
        let selectedAvatar = "https://static.vecteezy.com/system/resources/previews/048/216/761/non_2x/modern-male-avatar-with-black-hair-and-hoodie-illustration-free-png.png"; // default

function setupAvatarSelection() {
    const avatarOptions = document.querySelectorAll('.avatar-option');
    avatarOptions.forEach(avatar => {
        avatar.addEventListener('click', function () {
            avatarOptions.forEach(a => a.classList.remove('selected'));
            this.classList.add('selected');
            selectedAvatar = this.src;
        });
    });

    if (avatarOptions.length > 0) {
        avatarOptions[0].classList.add('selected');
        selectedAvatar = avatarOptions[0].src;
    }
}
        // Authentication System
        let users = JSON.parse(localStorage.getItem('gamersHubUsers')) || [];
        let currentUser = JSON.parse(localStorage.getItem('gamersHubCurrentUser')) || null;

        document.addEventListener('DOMContentLoaded', function () {
            checkAuthState();
            showLoading();
            setTimeout(() => {
                hideLoading();
                displayProducts(products);
            }, 1000);
            
            // Avatar selection functionality
            setupAvatarSelection();
        });

        function checkAuthState() {
            if (currentUser) {
                showUserInfo(currentUser);
            } else {
                showAuthButtons();
            }
        }

        function showUserInfo(user) {
            document.getElementById('user-info').style.display = 'flex';
            document.getElementById('auth-buttons').style.display = 'none';
            document.getElementById('logout-btn').style.display = 'inline-block';
            document.getElementById('user-avatar').src = user.avatar;
            document.getElementById('user-name').textContent = user.name;
        }

        function showAuthButtons() {
            document.getElementById('user-info').style.display = 'none';
            document.getElementById('auth-buttons').style.display = 'flex';
            document.getElementById('logout-btn').style.display = 'none';
        }

        function setupAvatarSelection() {
            const avatarOptions = document.querySelectorAll('.avatar-option');
            avatarOptions.forEach(avatar => {
                avatar.addEventListener('click', function() {
                    avatarOptions.forEach(a => a.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedAvatar = this.src;
                });
            });
            // Select first avatar by default
            if (avatarOptions.length > 0) {
                avatarOptions[0].classList.add('selected');
                selectedAvatar = avatarOptions[0].src;
            }
        }

        function showLoginModal() {
            document.getElementById('login-modal').style.display = 'block';
        }

        function showSignupModal() {
            document.getElementById('signup-modal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function loginUser(event) {
            event.preventDefault();
            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value;

            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                localStorage.setItem('gamersHubCurrentUser', JSON.stringify(currentUser));
                showUserInfo(currentUser);
                closeModal('login-modal');
                showSuccessMessage(`Welcome back, ${user.name}!`);
                // Clear form
                document.getElementById('login-email').value = '';
                document.getElementById('login-password').value = '';
            } else {
                showErrorMessage('Invalid email or password. Please try again.');
            }
        }

        function signupUser(event) {
            event.preventDefault();
            const name = document.getElementById('signup-name').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value;

            // Check if user already exists
            if (users.find(u => u.email === email)) {
                showErrorMessage('An account with this email already exists.');
                return;
            }

            // Create new user
            const newUser = {
                id: Date.now(),
                name: name,
                email: email,
                password: password,
                avatar: selectedAvatar,
                createdAt: new Date().toISOString()
            };

            users.push(newUser);
            localStorage.setItem('gamersHubUsers', JSON.stringify(users));
            
            // Auto login the new user
            currentUser = newUser;
            localStorage.setItem('gamersHubCurrentUser', JSON.stringify(currentUser));
            
            showUserInfo(currentUser);
            closeModal('signup-modal');
            showSuccessMessage(`Welcome to Gamers Hub, ${name}!`);
            
            // Clear form
            document.getElementById('signup-name').value = '';
            document.getElementById('signup-email').value = '';
            document.getElementById('signup-password').value = '';
        }

        function logoutUser() {
            currentUser = null;
            localStorage.removeItem('gamersHubCurrentUser');
            showAuthButtons();
            cart = [];
            updateCartUI();
            showSuccessMessage('You have been logged out successfully.');
        }

        function showSuccessMessage(message) {
            const toast = createToast(message, 'success');
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        function showErrorMessage(message) {
            const toast = createToast(message, 'error');
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        function createToast(message, type) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? '#4CAF50' : '#f44336'};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 10px;
                font-weight: 600;
                z-index: 3000;
                animation: slideInRight 0.3s ease-out;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            `;
            toast.textContent = message;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
            `;
            document.head.appendChild(style);
            
            return toast;
        }

        function showLoading() {
            document.getElementById('loading').classList.add('show');
        }

        function hideLoading() {
            document.getElementById('loading').classList.remove('show');
        }

        function displayProducts(productsToShow) {
            const grid = document.getElementById('products-grid');
            grid.innerHTML = '';

            productsToShow.forEach((product, index) => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.style.animationDelay = `${index * 0.1}s`;
                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-price">₹${product.price.toLocaleString()}</p>
                        <p class="product-description">${product.description}</p>
                        <button class="add-to-cart" onclick="addToCart(${product.id})">Add to Cart</button>
                    </div>
                `;
                grid.appendChild(productCard);
            });
        }

        function filterProducts() {
            const category = document.getElementById('category').value;
            const sort = document.getElementById('sort').value;
            const search = document.getElementById('search').value.toLowerCase();

            filteredProducts = products.filter(product => {
                const matchesCategory = !category || product.category === category;
                const matchesSearch = !search ||
                    product.name.toLowerCase().includes(search) ||
                    product.description.toLowerCase().includes(search);
                return matchesCategory && matchesSearch;
            });

            if (sort === 'price-low') {
                filteredProducts.sort((a, b) => a.price - b.price);
            } else if (sort === 'price-high') {
                filteredProducts.sort((a, b) => b.price - a.price);
            } else {
                filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
            }

            displayProducts(filteredProducts);
        }

        function addToCart(productId) {
            if (!currentUser) {
                showErrorMessage('Please login to add items to cart.');
                showLoginModal();
                return;
            }

            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCartUI();
            showSuccessMessage(`${product.name} added to cart!`);
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;

            displayCartItems();
        }

        function displayCartItems() {
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');

            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
                cartTotal.textContent = 'Total: ₹0.00';
                return;
            }

            cartItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <img src="${item.image}" alt="${item.name}">
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">₹${item.price.toLocaleString()}</div>
                    </div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="changeQuantity(${item.id}, -1)">-</button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="quantity-btn" onclick="changeQuantity(${item.id}, 1)">+</button>
                    </div>
                    <button class="remove-item" onclick="removeFromCart(${item.id})">Remove</button>
                </div>
            `).join('');

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotal.textContent = `Total: ₹${total.toLocaleString()}`;
        }

        function changeQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartUI();
                }
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
        }

        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            modal.style.display = modal.style.display === 'block' ? 'none' : 'block';
        }

        function checkout() {
            if (!currentUser) {
                showErrorMessage('Please login to checkout.');
                showLoginModal();
                return;
            }

            if (cart.length === 0) {
                showErrorMessage('Your cart is empty!');
                return;
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            showSuccessMessage(`Thank you for your purchase! Total: ₹${total.toLocaleString()}`);

            cart = [];
            updateCartUI();
            toggleCart();
        }

        function scrollToProducts() {
            document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }

        function submitContactForm(event) {
            event.preventDefault();
            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();
            const message = document.getElementById("message").value.trim();

            if (name && email && message) {
                showSuccessMessage(`Thank you, ${name}! Your message has been received. We'll get back to you shortly.`);
                document.getElementById("contact-form").reset();
            } else {
                showErrorMessage("Please fill out all fields.");
            }
        }

        // Close modals when clicking outside
        window.onclick = function (event) {
            const modals = ['cart-modal', 'login-modal', 'signup-modal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    closeModal(modalId);
                }
            });
        }

        // Close modals with Escape key
        document.addEventListener('keydown', function (event) {
            if (event.key === 'Escape') {
                const modals = ['cart-modal', 'login-modal', 'signup-modal'];
                modals.forEach(modalId => {
                    const modal = document.getElementById(modalId);
                    if (modal.style.display === 'block') {
                        closeModal(modalId);
                    }
                });
            }
        });
        

    </script>
</body>
</html>
